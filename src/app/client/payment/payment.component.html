<div class="checkout-container">
  <div class="checkout-card">

    <!-- Left: Order Summary -->
    <div class="checkout-left">
      <h3 class="checkout-title">Order Summary</h3>
      <div class="summary-card">
        <ul class="summary-items">
          <li *ngFor="let item of items" class="summary-item">
            <span>{{ item.productName }} (x{{ item.quantity }})</span>
            <span>₹{{ (item.productPrice * item.quantity).toFixed(2) }}</span>
          </li>
        </ul>
        <div class="summary-total">
          <span>Total Amount</span>
          <span>₹{{ totalAmount }}</span>
        </div>
      </div>
    </div>

    <!-- Right: Payment Details -->
    <div class="checkout-right">
      <h3 class="checkout-title">Payment Method</h3>
      <form [formGroup]="paymentForm" (ngSubmit)="paymentSubmit()" class="payment-form">

        <!-- Payment Method Selection -->
        <div class="payment-methods">
          <label class="payment-option" *ngFor="let method of ['creditCard','paypal','netBanking','upi']">
            <input type="radio" formControlName="paymentMethod" [value]="method">
            <span class="option-label">
              {{ method === 'creditCard' ? 'Credit/Debit Card' : method === 'paypal' ? 'PayPal' : method === 'netBanking' ? 'Net Banking' : 'UPI' }}
            </span>
          </label>
        </div>

        <!-- Payment Details Sections -->
        <div class="payment-details">

          <!-- Credit/Debit Card -->
          <div *ngIf="paymentForm.get('paymentMethod')?.value === 'creditCard'" class="payment-section credit-card">
            <label>Card Number</label>
            <input type="text" formControlName="cardNumber" placeholder="1234 5678 9012 3456">
            <div class="row">
              <div class="col">
                <label>Expiry Date</label>
                <input type="text" formControlName="expiryDate" placeholder="MM/YY">
              </div>
              <div class="col">
                <label>CVV</label>
                <input type="text" formControlName="cvv" placeholder="123">
              </div>
            </div>
          </div>

          <!-- PayPal -->
          <div *ngIf="paymentForm.get('paymentMethod')?.value === 'paypal'" class="payment-section paypal">
            <p>Log in to your PayPal account to complete the payment securely.</p>
          </div>

          <!-- Net Banking -->
          <div *ngIf="paymentForm.get('paymentMethod')?.value === 'netBanking'" class="payment-section netbanking">
            <p>Select your bank and complete the payment securely on their portal.</p>
          </div>

          <!-- UPI -->
          <div *ngIf="paymentForm.get('paymentMethod')?.value === 'upi'" class="payment-section upi">
            <p>Select your UPI app to complete the payment.</p>
            <div class="upi-options">
              <a href="https://pay.google.com" class="upi-link" target="_blank">
                <i class="fab fa-google-pay fa-3x"></i>
                <span>Google Pay</span>
              </a>
              <a href="https://www.phonepe.com" class="upi-link" target="_blank">
                <img src="assets/phonepe-icon.webp" alt="PhonePe">
                <span>PhonePe</span>
              </a>
              <a href="https://paytm.com" class="upi-link" target="_blank">
                <img src="assets/paytm.png" alt="Paytm">
                <span>Paytm</span>
              </a>
            </div>
          </div>

        </div>

        <button type="submit" class="btn-pay">Proceed to Pay ₹{{ totalAmount }}</button>
      </form>
    </div>

  </div>
</div>
